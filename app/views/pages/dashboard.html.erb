<% if current_user.teacher? %>
  <div class="container" style="padding:30px">
    <div class="d-flex flex-column">
      <br>

      <div>
        <div class="d-flex align-items-center">
          <%= image_tag 'hand.png', style: 'width:5%' %>

          <div style="overflow:hidden;width:2%"></div>

          <div class="d-flex flex-column">
            <h4 style="font-weight:bold;"> Welcome, <%= current_user.name %> </h4>
            <%= render "create_class_modal" %>
            <%= link_to 'Create a class', new_taught_class_path, class: "primary-button", style: "text-decoration: none; color: black; width:80%;text-align:center;", data: { toggle: "modal", target:"#exampleModal" } %>
          </div>

        </div>
        <br>
      </div>

      <br>


      <div>
        <div class="d-flex flex-column">
          <h4 style="font-weight:bold;"> Classes at <%= current_user.school.name %> </h4>
          <div style="border-bottom: 1px solid lightgray; width: 40px;"></div>
          <p class="mt-2"> <%= pluralize((TaughtClass.includes(:user).where(user: current_user).size),"class") %> </p>
        </div>
        <%= render "taught_classes" %>

      </div>

      <br>

      <div>

        <div class="d-flex flex-column mt-4">
          <h4 style="font-weight:bold;"> Assignments set </h4>
          <div style="border-bottom: 1px solid lightgray; width: 40px;"></div>
          <p class="mt-2"> <%= pluralize((current_user.assignments.size),"assignment") %> </p>
        </div>


      <%= render "teacher_assignments" %>
      </div>
    </div>
  </div>



<% elsif current_user.student? %>
  <div class="container" style="padding:30px">
    <div class="d-flex flex-column">
      <br>

      <div>
        <div class="d-flex align-items-center">
          <%= image_tag 'hand.png', style: 'width:5%' %>

          <div style="overflow:hidden;width:2%"></div>

          <div class="d-flex flex-column">
            <h4 style="font-weight:bold;"> Welcome, <%= current_user.name %> </h4>
            <%= render "create_class_modal" %>
            <%= link_to 'Create a class', new_taught_class_path, class: "primary-button", style: "text-decoration: none; color: black; width:80%;text-align:center;", data: { toggle: "modal", target:"#exampleModal" } %>
          </div>

        </div>
        <br>
      </div>

      <br>


      <div>
          <div class="d-flex flex-column">
            <h4 style="font-weight:bold;"> Classes at <%= current_user.school.name %> </h4>
            <div style="border-bottom: 1px solid lightgray; width: 40px;"></div>
            <p class="mt-2"> <%= pluralize((ClassMembership.includes(:user).where(user: current_user).size),"class") %> </p>
          </div>

        <%= render "student_classmemberships" %>
      </div>

      <br>

      <div>
        <div class="d-flex flex-column mt-4">
          <h4 style="font-weight:bold;"> Assignments set </h4>
          <div style="border-bottom: 1px solid lightgray; width: 40px;"></div>
          <p class="mt-2"> <%= pluralize((current_user.number_of_assignments_to_do),"assignment") %> </p>
        </div>

        <%= render "student_assignments" %>
      </div>

    </div>
  </div>


  <div class="d-flex flex-column">
    <h1> Student dashboard </h1>
    <%= link_to 'View my classes', class_memberships_path %>
    <%= link_to 'View my assignments', my_assignments_path %>
    <%= link_to "View all classes at #{ current_user.school.name }", taught_classes_path %>

  </div>

<% end %>




